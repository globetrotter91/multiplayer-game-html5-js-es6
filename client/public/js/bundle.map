{"version":3,"sources":["webpack:///webpack/bootstrap 2821ec852cddf42c19f3","webpack:///./gamejs/declarations.js","webpack:///./gamejs/globals.js","webpack:///./gamejs/start.js","webpack:///./gamejs/functions.js","webpack:///./gamejs/Player.js","webpack:///./gamejs/Bullet.js","webpack:///./gamejs/socket.event.functions.js"],"names":["WIDTH","window","innerWidth","HEIGHT","innerHeight","signDiv","document","getElementById","playerName","enterGame","gamePage","gameInstructions","gameInstructions0","loginBox","primaryButton","warningButton","dangerButton","infoButton","globalError","usernameSpan","scoreSpan","livesSpan","gameLostDiv","finalScoreSpan","INFO_COLOR","PRIMARY_COLOR","DANGER_COLOR","WARNING_COLOR","Img","player","Image","src","bullet","canvas","ctx","getContext","fullText","ENTERGAME_REQUEST","ENTERGAME_RESPONSE","DISCONNECT","EVAL_SERVER","EVAL_SERVER_RESPONSE","INITIALIZE","UPDATE","REMOVE","EVENT_HAPPENED","COLOR_SELECTED","GAME_LOST","selfId","lastScore","lastLives","playerList","bulletList","onclick","value","trim","style","borderColor","socket","io","emit","username","innerHTML","on","onkeydown","event","keyCode","inputId","state","onkeyup","onmousedown","onmouseup","onmousemove","x","clientX","y","clientY","angle","Math","atan2","PI","oncontextmenu","preventDefault","connectionManager","setInterval","disconnected","setTimeout","clearInterval","location","reload","showError","printInstructions","updateView","configure","hideElement","showElement","manageHieghtForGameInstructions","showFinalScore","message","display","i","div","counter","typo","charAt","length","divTarget","drawScore","score","lives","clearRect","draw","addEventListener","resizeCanvas","width","height","element","floor","socre","Player","id","hp","hpMax","directionMod","spriteAnimCounter","color","image","hpWidth","fillStyle","fillRect","frameWidth","frameHeight","walkingMod","drawImage","pack","undefined","mouseAngle","Bullet","serverResponseEnterGame","serverResponseInitialize","serverResponseUpdate","serverResponseRemove","serverResponseColorSelected","serverResponseGameLost","data","status","newUser","error","appear","fire","update","check","b"],"mappings":"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","file":"./client/public/js/game-ui.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2821ec852cddf42c19f3","// global height and width\nexport const WIDTH = window.innerWidth;\nexport const HEIGHT = window.innerHeight;\n\n//divs\nexport const signDiv = document.getElementById('userDiv');\nexport const playerName = document.getElementById('playerName');\nexport const enterGame = document.getElementById('enterGame');\nexport const gamePage = document.getElementById('gameDiv');\nexport const gameInstructions = document.getElementById('gameInstructions');\nexport const gameInstructions0 = document.getElementById('gameInstructions0');\nexport const loginBox = document.getElementById('loginBox');\nexport const primaryButton = document.getElementById('primaryColor');\nexport const warningButton = document.getElementById('warningColor');\nexport const dangerButton = document.getElementById('dangerColor');\nexport const infoButton = document.getElementById('infoColor');\nexport const globalError = document.getElementById('globalError');\nexport const usernameSpan = document.getElementById('usernameSpan');\nexport const scoreSpan = document.getElementById('scoreSpan');\nexport const livesSpan = document.getElementById('livesSpan');\nexport const gameLostDiv = document.getElementById('gameLostDiv');\nexport const finalScoreSpan = document.getElementById('finalScoreSpan');\n\n//colors\nexport const INFO_COLOR = '#5bc0de';\nexport const PRIMARY_COLOR = '#008cba';\nexport const DANGER_COLOR = '#F04124';\nexport const WARNING_COLOR = '#E99002';\n\n//game\nexport const Img = {};\nImg.player = new Image();\nImg.player.src = 'img/player.png';\nImg.bullet = new Image();\nImg.bullet.src = 'img/bullet.png';\n\n//canvas\nexport const canvas = document.getElementById(\"ctx\"),\n\tctx = canvas.getContext(\"2d\");\n\n//game instructions text\nexport const fullText = [\n\t'Welcome to KILL THE EMEMY',\n\t'Following are the rules', \n\t'1. You have 5 lives to start with. The lives are precious. If 5 lives are lost, you have to wait for 24 hours to restart.',\n\t'2. Your aim is to kill as many other players as possible. Every time a player gets killed by you, your killings increase.', \n\t'3. The more the killings, the higher your position on the killerboard. The game can be played by 2-4 players', \n\t'Controls',\n\t'1. To move the player, use the arrow keys for respective direction.', \n\t'2. To shoot the other player, use your mouse to target and left click to shoot a bullet.',\n\t'3. Your health for a life can be monitored on the bar above the player.'\n];\n\n//socket events \nexport const ENTERGAME_REQUEST = 'ENTERGAME_REQUEST';\nexport const ENTERGAME_RESPONSE = 'ENTERGAME_RESPONSE';\nexport const DISCONNECT = 'disconnect';\nexport const EVAL_SERVER = 'EVAL_SERVER';\nexport const EVAL_SERVER_RESPONSE = 'EVAL_SERVER_RESPONSE';\nexport const INITIALIZE = 'INITIALIZE';\nexport const UPDATE = 'UPDATE';\nexport const REMOVE = 'REMOVE';\nexport const EVENT_HAPPENED = 'EVENT_HAPPENED';\nexport const COLOR_SELECTED = 'COLOR_SELECTED'; \nexport const GAME_LOST = 'GAME_LOST'; \n\n\n\n// WEBPACK FOOTER //\n// ./gamejs/declarations.js","export default {\n    selfId : null,                  // selfId is the id of the player who is logged in \n                                    //-- helps to differentiate the player playing from his enemies\n    lastScore: null,                // score global for the player\n                                    // -- helps to save the last score of the player playing.\n    lastLives: null,                // lives global for the player\n                                    // also referred to as killings in the game.\n                                    // -- helps to save the remaining lives of the player playing.\n    playerList: {},                 // global player list\n                                    // -- helps to keep the track of the players and the enemies \n    bulletList: {}                  // global bullet list\n                                    // -- helps to keep track of the bullets fired. \n}\n\n\n// WEBPACK FOOTER //\n// ./gamejs/globals.js","'use strict';\nimport globals from './globals';\n\nimport { \n    enterGame, playerName, usernameSpan, WIDTH, HEIGHT, \n    primaryButton, warningButton, dangerButton, infoButton, \n\tENTERGAME_REQUEST, ENTERGAME_RESPONSE, INITIALIZE, UPDATE, REMOVE, COLOR_SELECTED, GAME_LOST, EVENT_HAPPENED,\n\tPRIMARY_COLOR, INFO_COLOR, DANGER_COLOR, WARNING_COLOR \n} from './declarations';\n\nimport { showError, configure } from './functions';\n\nimport {\n\tserverResponseEnterGame,\n\tserverResponseColorSelected,\n\tserverResponseGameLost,\n\tserverResponseInitialize,\n\tserverResponseRemove,\n\tserverResponseUpdate\n} from './socket.event.functions';\n\nimport Player from './Player';\nimport Bullet from './Bullet';\n\nenterGame.onclick = () => {\n\tif(playerName.value.trim()==''){\n\t\tplayerName.style.borderColor = 'red';\n\t\tshowError('Name cannot be blank');\n\t\treturn;\n\t}\n\n\t// if the username is not blank create a new connection\n\tvar socket = io();\t\t\t\t\n\t//sending player name to the server\n\tsocket.emit(ENTERGAME_REQUEST,{ username : playerName.value });\t\t\t\n\tusernameSpan.innerHTML = playerName.value;\n\n\t// handling server response for new player\n\tsocket.on(ENTERGAME_RESPONSE, serverResponseEnterGame);\n\n\t// handling server response when a player is initialized\n\tsocket.on(INITIALIZE, serverResponseInitialize);\n\n\t// handling server response when a player is moving or attacking\n\tsocket.on(UPDATE, serverResponseUpdate);\n\n\t// handling server response when a player is removed\n\tsocket.on(REMOVE, serverResponseRemove);\n\n\t// handling server response when a player selects color to start game\n\tsocket.on(COLOR_SELECTED, serverResponseColorSelected);\n\n\t// handling server response when a player has lost\n\tsocket.on(GAME_LOST, serverResponseGameLost);\n\n\t//handling the key down event \n\t//fires a event sending the event data to server\n\t//-- helps in movement of the player\n\tdocument.onkeydown = (event) => {\n\t\tif (socket) {\n\t\t\tif (event.keyCode === 39)\t//right\n\t\t\t\tsocket.emit(EVENT_HAPPENED, { inputId: 'right', state: true });\n\t\t\telse if (event.keyCode === 40)\t//down\n\t\t\t\tsocket.emit(EVENT_HAPPENED,{ inputId: 'down', state: true });\n\t\t\telse if (event.keyCode === 37) //left\n\t\t\t\tsocket.emit(EVENT_HAPPENED,{ inputId: 'left', state: true} );\n\t\t\telse if (event.keyCode === 38) // up\n\t\t\t\tsocket.emit(EVENT_HAPPENED,{ inputId: 'up', state: true });\n\t\t}\t\t\n\t}\n\n\t//handling the key up event \n\t//fires a event sending the event data to server based on the key codes\n\t//-- helps in stopping movement of the player\n\tdocument.onkeyup = (event) => {\n\t\tif (socket) {\n\t\t\tif(event.keyCode === 39)\t//right\n\t\t\t\tsocket.emit(EVENT_HAPPENED, { inputId: 'right', state: false });\n\t\t\telse if(event.keyCode === 40)\t//down\n\t\t\t\tsocket.emit(EVENT_HAPPENED, { inputId: 'down', state: false });\n\t\t\telse if(event.keyCode === 37) //left\n\t\t\t\tsocket.emit(EVENT_HAPPENED, { inputId: 'left', state: false });\n\t\t\telse if(event.keyCode === 38) // up\n\t\t\t\tsocket.emit(EVENT_HAPPENED, { inputId:' up', state: false });\n\t\t}\n\t}\n\n\t//handling the mouse down/left-click event \n\t//fires a event sending the event data to server \n\t//-- helps in firing the bullets\n\tdocument.onmousedown = (event) => {\n\t\tif (socket) {\n\t\t\tsocket.emit(EVENT_HAPPENED, { inputId: 'attack', state: true });\n\t\t}\n\t}\n\n\t//handling the mouse up event \n\t//fires a event sending the event data to server \n\t//-- helps in stop firing the bullets\n\tdocument.onmouseup = (event) => {\n\t\tif (socket) {\n\t\t\tsocket.emit(EVENT_HAPPENED, { inputId: 'attack', state: false });\n\t\t}\n\t}\n\t\n\t//handling the mouse move event \n\t//fires a event sending the event data to server [event data being the mouse angle calculated wrt player]\n\t//-- helps in firing bullets at a particlar angle \n\t//-- helps in positioning the player sprite image \n\tdocument.onmousemove = (event) => { \n\t\tif (socket && globals.playerList[globals.selfId]) {\n\t\t\tvar x =  event.clientX - globals.playerList[globals.selfId].x;\n\t\t\tvar y =  event.clientY - globals.playerList[globals.selfId].y;\n\t\t\tvar angle = Math.atan2(y,x) / Math.PI * 180;\n\t\t\tsocket.emit(EVENT_HAPPENED,{inputId:'mouseAngle',state:angle});\n\t\t}\n\t}\n\n\t//disabling the right click on the document\n\tdocument.oncontextmenu = (event) => {\n\t\tevent.preventDefault();\n\t}\n\n\t//following four functions \n\t//sends the selected color by the player to the server\n\tprimaryButton.onclick = () => {\n\t\tsocket.emit(EVENT_HAPPENED,{inputId:'colorSelected',state: PRIMARY_COLOR});\n\t}\n\tinfoButton.onclick = () => {\n\t\tsocket.emit(EVENT_HAPPENED,{inputId:'colorSelected',state: INFO_COLOR});\n\t}\n\twarningButton.onclick = () => {\n\t\tsocket.emit(EVENT_HAPPENED,{inputId:'colorSelected',state: WARNING_COLOR});\n\t}\n\tdangerButton.onclick = () => {\n\t\tsocket.emit(EVENT_HAPPENED,{inputId:'colorSelected',state: DANGER_COLOR});\n\t}\n\n\t//checks the connection is active with the server\t\n\t// * note - this can also be achieved in more optimized manner user service workers if the the connection is https\n\tvar connectionManager = setInterval(function(){\n\t\tif(socket.disconnected){\n\t\t\tshowError('Error in server connection');\n\t\t\tsetTimeout(function(){\n\t\t\t\tclearInterval(connectionManager); \n\t\t\t\tlocation.reload(); \n\t\t\t},3000)\n\t\t}\n\t}, 1000);\n}\n//configure the size of the canvas based on the size of the screen.\nconfigure()\n\n\n// WEBPACK FOOTER //\n// ./gamejs/start.js","import {\n\tglobalError,\n\tscoreSpan,\n\tlivesSpan,\n\tctx,\n\tWIDTH,\n\tHEIGHT,\n\tcanvas,\n\tfullText,\n\tgameInstructions,\n\tfinalScoreSpan\n} from './declarations';\n\nimport globals from './globals'; \n\n\n//shows the error on the top of the screen\nexport function showError(message){\n\tglobalError.style.display = 'block';\n\tglobalError.innerHTML = message;\n\tsetTimeout(function(){\n\t\tglobalError.style.display = 'none';\n\t}, 5000);\n}\n\n//print instructions in a type effect when a new player joins \nvar i=0; \nexport function printInstructions(div){\n\ti++;\n\tvar counter=0;\n\tvar typo = setInterval(function(){\n\t\tdiv.innerHTML+=fullText[i-1].charAt(counter);\n\t\tcounter++; \n\t\tif(counter>=fullText[i-1].length){\n            clearInterval(typo);\n\t\t\tvar divTarget = document.getElementById('gameInstructions'+i)\n\t\t\tif(divTarget){\n\t\t\t\tprintInstructions(divTarget)\n\t\t\t}else{\n                i=0; \n\t\t\t\tdocument.getElementById('startGameWithColor').style.display='block';\n\t\t\t}\n\t\t}\n\t}, 1000/25);\n}\n\n// renders the score and the lives in the top black bar of the screen\nfunction drawScore(){\n\tif(globals.playerList[globals.selfId]){\n\t\tif(globals.lastScore === globals.playerList[globals.selfId].score && globals.lastLives === globals.playerList[globals.selfId].lives)\treturn;\n\t\tglobals.lastScore = globals.playerList[globals.selfId].score;\n\t\tglobals.lastLives = globals.playerList[globals.selfId].lives;\n\t\tscoreSpan.innerHTML = globals.lastScore;\n\t\tlivesSpan.innerHTML = globals.lastLives;\n\t}\n}\n\n// renders the player and bullet on the canvas\nexport function updateView(){\n\tif(!globals.selfId)\t\treturn;\n\tctx.clearRect(0,0,WIDTH,HEIGHT);\n\t\n\tdrawScore();\n\tfor(var i in globals.playerList)\n\t\tglobals.playerList[i].draw();\n\tfor(var i in globals.bulletList)\n\t\tglobals.bulletList[i].draw();\n}\n\n// configures canvas height and width according to the screen\nexport function configure(){\n    window.addEventListener('resize', resizeCanvas, false);\n    function resizeCanvas() {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\t\t\n    }\n    resizeCanvas();\n}\n\n// hides a element\nexport function hideElement(element) {\n\telement.style.display = 'none';\n}\n\n// shows a element\nexport function showElement(element) {\n\telement.style.display = 'block';\n}\n\n// set the height of the gaming isntructions div\nexport function manageHieghtForGameInstructions(){\n\tgameInstructions.style.height = Math.floor(0.7*HEIGHT) + 'px';\n}\n\n//shows final score when the game is over\nexport function showFinalScore(socre){\n\tfinalScoreSpan.innerHTML = score;\n}\n\n\n// WEBPACK FOOTER //\n// ./gamejs/functions.js","import { WIDTH, HEIGHT, ctx, Img } from './declarations'; \nimport globals from './globals'; \n \n/**\n * @ES6 class\n * @name Player\n * @description creates a player whenever a new player joins in.\n * draw function used for rendering, \n * update function used for updating coords and score\n */\nexport default class Player {\n\t//using ES6 desctruct to get properties of the player\n\tconstructor({ id, x, y, hp, hpMax, score, directionMod, spriteAnimCounter, lives, color }) {\n\t\tthis.id = id; \t\t\t\t\t\t\t\t\t//id of the player -- helps in keeping track of the players\n\t\tthis.x = x;\t\t\t\t\t\t\t\t\t\t//x in the (x,y) coords of 2d -- helps in moving the player on canvas \n\t\tthis.y = y;\t\t\t\t\t\t\t\t\t\t//y in the (x,y) coords of 2d -- helps in moving the player on canvas\n\t\tthis.hpMax = hpMax;\t\t\t\t\t\t\t\t//maximum health of the player in a life\n\t\tthis.hp = hp;\t\t\t\t\t\t\t\t\t//remaining health of the player in a life\n\t\tthis.score = score;\t\t\t\t\t\t\t\t//no of players killed by the player also ref as killings\n\t\tthis.directionMod = directionMod;\t\t\t\t//1,2,3,4 depending on the mouse angle and key pressed \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//-- helps in displaying the correct part of player sprite image\n\t\tthis.spriteAnimCounter = spriteAnimCounter;\t\t//kinda the speed of the avatar, can be 0,1,2 \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//-- helps in displaying the correct part of player sprite image\n\t\tthis.lives = lives; \t\t\t\t\t\t\t//remaining lives of the player\n        this.color = color; \t\t\t\t\t\t\t//color of the hp bar \n        this.image = Img.player;\t\t\t\t\t\t//image if the player \n        this.width = Img.player.width;\t\t\t\t\t//width of the player image\n        this.height = Img.player.height;\t\t\t\t//height of the player image\n\t}\n\t\n\t// the draw function is responsible for rendering the image of the player on the canvas.\n\tdraw(){\t\n\t\tif(!this.color || this.color === '#ffffff')\treturn; \n\t\tvar x = this.x; \n\t\tvar y = this.y; \n\n\t\tif(this.x<=20)\tx = 20;\n\t\tif(this.x>=WIDTH-20)\tx = WIDTH-20;\n\t\tif(this.y<=100)\ty = 100;\n\t\tif(this.y>=HEIGHT-70)\ty = HEIGHT-70;\n\t\t\n\t\tvar hpWidth = 30 * this.hp / this.hpMax;\n\t\tctx.fillStyle = this.color;\n\t\tctx.fillRect(x - hpWidth/2,y - 60,hpWidth,4);\n\t\t\n\t\tvar frameWidth = this.width/3;\n\t\tvar frameHeight = this.height/4+1;\n\t\t\n\t\tvar walkingMod = Math.floor(this.spriteAnimCounter) % 3;//1,2\n\n\t\tctx.drawImage(this.image, walkingMod*frameWidth, this.directionMod*frameHeight,\n\t\t\tframeWidth,frameHeight,\n\t\t\tx-this.width/2,y-this.height/2,this.width,this.height);\n\t\t\n\t}\n\n\t// when a player is connected with the server this function is called to \n\t// add the player to the global player list.\n\tappear() {\n\t\tglobals.playerList[this.id] = this;\n\t}\n\t\n\t// the function update is called whenever there is a update event from the server\n\t// this function sets the properties of the player as the pack received from the server.\n\tupdate(pack) {\n\t\t//console.log(this); \n\t\tif(pack.x !== undefined)\t\t\t\t\tthis.x = pack.x;\n\t\tif(pack.y !== undefined)\t\t\t\t\tthis.y = pack.y;\n\t\tif(pack.hp !== undefined)\t\t\t\t\tthis.hp = pack.hp;\n\t\tif(pack.score !== undefined)\t\t\t\tthis.score = pack.score;\n\t\tif(pack.lives !== undefined)\t\t\t\tthis.lives = pack.lives;\n\t\tif(pack.mouseAngle !== undefined)\t\t\tthis.mouseAngle = pack.mouseAngle;\n\t\tif(pack.directionMod !== undefined)\t\t\tthis.directionMod = pack.directionMod;\n\t\tif(pack.spriteAnimCounter !== undefined)\tthis.spriteAnimCounter = pack.spriteAnimCounter;\n\t\tif(pack.color !== undefined)\t\t\t\tthis.color = pack.color;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./gamejs/Player.js","import globals from './globals'; \nimport { ctx, Img } from './declarations'; \n \n/**\n * @ES6 class\n * @name Bullet\n * @description creates a bullet whenever the player presses the mouse.\n * draw function used for rendering, \n * fire function used for adding to bullet list\n */\nexport default class Bullet {\n    constructor({ id, x, y }) {\n        this.id = id;                       // id of the bullet \n                                            // -- helps in keeping track of the bullets and removing when out of bound of hit player\n        this.x = x;                         //x in the (x,y) coords of 2d -- helps in moving the bullet on canvas \n\t\tthis.y = y;\t\t\t\t\t\t\t//y in the (x,y) coords of 2d -- helps in moving the bullet on canvas\n        this.image = Img.bullet;            //image if the player \n        this.width = Img.bullet.width;      //width of bullet image\n        this.height = Img.bullet.height;    //height of bullet image\n    }\n    \n    // the draw function is responsible for rendering the image of the bullet on the canvas.\n    draw() {\n        ctx.drawImage(this.image,0,0,this.width,this.height,\n\t\t\tthis.x-this.width/4,this.y-this.height/4,this.width/2,this.height/2);\n    }\n    // this method is used to add the created bullets to the global bullet list.\n    fire() {\n        globals.bulletList[this.id] = this;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./gamejs/Bullet.js","'use strict';\nimport globals from './globals';\nimport { loginBox, gameInstructions, gameInstructions0, signDiv, gamePage, gameLostDiv } from './declarations';\nimport Player from './Player';\nimport Bullet from './Bullet';\nimport { \n    hideElement,\n    showElement,\n    showError,\n    printInstructions,\n    manageHieghtForGameInstructions,\n    updateView,\n    showFinalScore\n} from './functions';\n\n// receiving response from the server when you join the game\nexport function serverResponseEnterGame(data) {\n    if (data.status) {\n        if (data.newUser) {\n            hideElement(loginBox);\n            showElement(gameInstructions);\n            manageHieghtForGameInstructions();\n            printInstructions(gameInstructions0);\n        } else {\n            hideElement(signDiv);\n            showElement(gamePage);\n        }\t\t\t\t\n    } else{\n        showError(data.error);\n    }\t\t\n}\n\n// receiving response from the server when a new player joins\nexport function serverResponseInitialize(data) {\t\n    if(data.selfId) globals.selfId = data.selfId;\n    for(var i = 0 ; i < data.player.length; i++) {\n        var player = new Player(data.player[i]);\n        player.appear(); \n    }\n    for(var i = 0 ; i < data.bullet.length; i++) {\n        var bullet = new Bullet(data.bullet[i]);\n        bullet.fire(); \n    }\n    updateView();\n}\n\n// receiving response from the server when the player/bullet position is updated\nexport function serverResponseUpdate(data) {\n    for(var i = 0 ; i < data.player.length; i++) {\n        var pack = data.player[i];\n        var player = globals.playerList[pack.id];\n        if(player) player.update(pack);\n    }\n\n    if(data.player.length!==globals.playerList.length) {\n        for(var id in globals.playerList){\n            var check = 0;\n            for(var i = 0 ; i < data.player.length; i++) {\n                if (id == data.player[i].id) {\n                    check=1;\n                    break;\n                }\n            }\n            if (check==0) {\n                delete globals.playerList[id]\n            }\n        }\n    }\n    \n    for(var i = 0 ; i < data.bullet.length; i++) {\n        var pack = data.bullet[i];\n        var b = globals.bulletList[data.bullet[i].id];\n        if(b){\n            if(pack.x !== undefined)\n                b.x = pack.x;\n            if(pack.y !== undefined)\n                b.y = pack.y;\n        }\n    }\n    updateView();    \n}\n\n// receiving response from the server when the player/bullet is removed\nexport function serverResponseRemove(data) {\n    for(var i = 0 ; i < data.player.length; i++) {\n        delete globals.playerList[data.player[i]];\n    }\n    for(var i = 0 ; i < data.bullet.length; i++) {\n        delete globals.bulletList[data.bullet[i]];\n    }\n    updateView();\n}\n\n// receiving response from the server when the player color is set and game is to start\nexport function serverResponseColorSelected(data) {\n    if (data.status) {\n        hideElement(signDiv);\n        showElement(gamePage);\n        updateView();\n    } else {\n        showError('Some problem with server. Please try after some time.');\n    }\t\n}\n\n// receiving response from the server when the game is lost\nexport function serverResponseGameLost(data) {\n    hideElement(gamePage);\n    showElement(gameLostDiv);\n    showFinalScore(data.score);\n    socket = null; \n}\n\n\n// WEBPACK FOOTER //\n// ./gamejs/socket.event.functions.js"],"sourceRoot":""}